<!doctype html>
<html lang="zh-Hans">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/images/favicon.png" />

<title>python3.5&#43;opencv3.x&#43;ubuntu17.04 环境搭建&nbsp;|&nbsp;spiritshaman</title>
<meta
  name="title"
  content="python3.5&#43;opencv3.x&#43;ubuntu17.04 环境搭建"
/>
<meta
  name="description"
  content="第一步 更新 $ sudo apt-get update $ sudo apt-get upgrade 第二步 环境搭建 1 必要软件 $ sudo apt-get install build-essential cmake cmake-qt-gui pkg-config git 2 图像格式相关 $ sudo apt-get install libpng-dev libjpeg-dev libtiff5-dev 3 GUI相关 $ sudo apt-get install libgtk2.0-dev 4 视频格式相关 $ sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev $ sudo apt-get install libxvidcore-dev libx264-dev 5 C&#43;&#43;多线程相关 $ sudo apt-get install libtbb2 libtbb-dev 6 摄像头相关 $ sudo apt-get install libdc1394-22-dev 7 opengl相关 $ sudo apt-get install libgtkglext1 libgtkglext1-dev 8 矩阵运算相关 $ sudo apt-get install libatlas-base-dev gfortran 9 python $ sudo apt-get install python3."
/>
<meta
  name="keywords"
  content="python-opencv,环境搭建,"
/>

  <meta name="author" content="SpiritShaman" />




<meta property="og:title" content="python3.5&#43;opencv3.x&#43;ubuntu17.04 环境搭建" />
<meta property="og:description" content="第一步 更新 $ sudo apt-get update $ sudo apt-get upgrade 第二步 环境搭建 1 必要软件 $ sudo apt-get install build-essential cmake cmake-qt-gui pkg-config git 2 图像格式相关 $ sudo apt-get install libpng-dev libjpeg-dev libtiff5-dev 3 GUI相关 $ sudo apt-get install libgtk2.0-dev 4 视频格式相关 $ sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev $ sudo apt-get install libxvidcore-dev libx264-dev 5 C&#43;&#43;多线程相关 $ sudo apt-get install libtbb2 libtbb-dev 6 摄像头相关 $ sudo apt-get install libdc1394-22-dev 7 opengl相关 $ sudo apt-get install libgtkglext1 libgtkglext1-dev 8 矩阵运算相关 $ sudo apt-get install libatlas-base-dev gfortran 9 python $ sudo apt-get install python3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/note/2017-08-08-python3.5-opencv3.x-ubuntu17.04%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" /><meta property="article:section" content="note" />

<meta property="og:site_name" content="spiritshaman" />





<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="python3.5&#43;opencv3.x&#43;ubuntu17.04 环境搭建"/>
<meta name="twitter:description" content="第一步 更新 $ sudo apt-get update $ sudo apt-get upgrade 第二步 环境搭建 1 必要软件 $ sudo apt-get install build-essential cmake cmake-qt-gui pkg-config git 2 图像格式相关 $ sudo apt-get install libpng-dev libjpeg-dev libtiff5-dev 3 GUI相关 $ sudo apt-get install libgtk2.0-dev 4 视频格式相关 $ sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev $ sudo apt-get install libxvidcore-dev libx264-dev 5 C&#43;&#43;多线程相关 $ sudo apt-get install libtbb2 libtbb-dev 6 摄像头相关 $ sudo apt-get install libdc1394-22-dev 7 opengl相关 $ sudo apt-get install libgtkglext1 libgtkglext1-dev 8 矩阵运算相关 $ sudo apt-get install libatlas-base-dev gfortran 9 python $ sudo apt-get install python3."/>




<meta itemprop="name" content="python3.5&#43;opencv3.x&#43;ubuntu17.04 环境搭建">
<meta itemprop="description" content="第一步 更新 $ sudo apt-get update $ sudo apt-get upgrade 第二步 环境搭建 1 必要软件 $ sudo apt-get install build-essential cmake cmake-qt-gui pkg-config git 2 图像格式相关 $ sudo apt-get install libpng-dev libjpeg-dev libtiff5-dev 3 GUI相关 $ sudo apt-get install libgtk2.0-dev 4 视频格式相关 $ sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev $ sudo apt-get install libxvidcore-dev libx264-dev 5 C&#43;&#43;多线程相关 $ sudo apt-get install libtbb2 libtbb-dev 6 摄像头相关 $ sudo apt-get install libdc1394-22-dev 7 opengl相关 $ sudo apt-get install libgtkglext1 libgtkglext1-dev 8 矩阵运算相关 $ sudo apt-get install libatlas-base-dev gfortran 9 python $ sudo apt-get install python3.">

<meta itemprop="wordCount" content="322">
<meta itemprop="keywords" content="python-opencv,环境搭建," />
<meta name="referrer" content="no-referrer-when-downgrade" />

    
    
    
    <link href="/bundle.min.css" rel="stylesheet" />

    

    


    
</head>

  <body>
    <header>
      <nav>
  <a
    href="/"
    
    >Home</a
  >

  <a
    href=""
    
    >Blog</a
  >


  <a href="/index.xml">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 448 512">
      
      <path
        d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"
      />
    </svg>
    RSS
  </a>

</nav>

<h1>python3.5&#43;opencv3.x&#43;ubuntu17.04 环境搭建</h1>


    </header>
    <main>
      
  
  
  <content>
    <h2 id="第一步-更新">第一步 更新</h2>






<pre tabindex="0"><code>$ sudo apt-get update
$ sudo apt-get upgrade</code></pre>
<h2 id="第二步-环境搭建">第二步 环境搭建</h2>
<h3 id="1-必要软件">1 必要软件</h3>






<pre tabindex="0"><code>$ sudo apt-get install build-essential cmake cmake-qt-gui pkg-config git</code></pre>
<h3 id="2-图像格式相关">2 图像格式相关</h3>






<pre tabindex="0"><code>$ sudo apt-get install libpng-dev libjpeg-dev libtiff5-dev</code></pre>
<h3 id="3-gui相关">3 GUI相关</h3>






<pre tabindex="0"><code>$ sudo apt-get install libgtk2.0-dev</code></pre>
<h3 id="4-视频格式相关">4 视频格式相关</h3>






<pre tabindex="0"><code>$ sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev
$ sudo apt-get install libxvidcore-dev libx264-dev</code></pre>
<h3 id="5--c多线程相关">5  C++多线程相关</h3>






<pre tabindex="0"><code>$ sudo apt-get install libtbb2 libtbb-dev</code></pre>
<h3 id="6-摄像头相关">6 摄像头相关</h3>






<pre tabindex="0"><code>$ sudo apt-get install libdc1394-22-dev</code></pre>
<h3 id="7-opengl相关">7 opengl相关</h3>






<pre tabindex="0"><code>$ sudo apt-get install libgtkglext1 libgtkglext1-dev</code></pre>
<h3 id="8-矩阵运算相关">8 矩阵运算相关</h3>






<pre tabindex="0"><code>$ sudo apt-get install libatlas-base-dev gfortran</code></pre>
<h3 id="9-python">9 python</h3>






<pre tabindex="0"><code>$ sudo apt-get install python3.5-dev python2.7-dev</code></pre>
<h1 id="第三步-下载opencv源代码">第三步 下载opencv源代码</h1>






<pre tabindex="0"><code>$ cd ~
$ mkdir opencv
$ wget -O opencv.zip https://github.com/Itseez/opencv/archive/3.1.0.zip
$ unzip opencv.zip
$ wget -O opencv_contrib.zip https://github.com/Itseez/opencv_contrib/archive/3.1.0.zip
$ unzip opencv_contrib.zip</code></pre>
<h1 id="第四步-配置python环境">第四步 配置python环境</h1>
<h3 id="1-下载安装pip">1 下载安装pip</h3>
<p>配置python环境第一步就是安装pip</p>






<pre tabindex="0"><code>$ cd ~
$ wget https://bootstrap.pypa.io/get-pip.py
$ sudo python get-pip.py</code></pre>
<h3 id="2-安装python虚拟环境">2 安装python虚拟环境</h3>






<pre tabindex="0"><code>$ sudo pip install virtualenv virtualenvwrapper
$ sudo rm -rf ~/get-pip.py ~/.cache/pip</code></pre>
<h3 id="3-修改bashrc文件">3 修改~/.bashrc文件</h3>
<p>(此处是为python虚拟环境添加变量)</p>






<pre tabindex="0"><code>$ vim ~/.bashrc</code></pre>
<p>在末尾处添加</p>






<pre tabindex="0"><code># virtualenv and virtualenvwrapper
export WORKON_HOME=$HOME/.virtualenvs
source /usr/local/bin/virtualenvwrapper.sh</code></pre>
<p>保存退出</p>






<pre tabindex="0"><code>$ source ~/.bashrc</code></pre>
<h3 id="4-创建python虚拟环境">4 创建python虚拟环境</h3>
<p>(本教程为python3方法,python2步骤类似)</p>






<pre tabindex="0"><code>$ mkvirtualenv cv -p python3
(此处 python2 即为 mkvirtualenv cv -p python2 ,以后步骤类似)
$ workon cv</code></pre>
<p>如下图检测自己是否在虚拟环境中,如若不在,再执行workon cv
<img src="http://ww1.sinaimg.cn/large/005L13Yhgy1fic5ivytizj30kp0cjdfz.jpg" alt=""></p>
<h3 id="5-为虚拟环境安装numpy">5 为虚拟环境安装numpy</h3>






<pre tabindex="0"><code>$ pip install numpy</code></pre>
<h1 id="第五步-配置和编译安装opencv">第五步 配置和编译安装opencv</h1>
<p><font color=red size=36>请确保你在Python虚拟环境中</font></p>






<pre tabindex="0"><code>$ cd /home/ssssix40/opencv/opencv-3.1.0
$ mkdir build
$ cd build
$ cmake -D CMAKE_BUILD_TYPE=RELEASE \
    -D CMAKE_INSTALL_PREFIX=/usr/local \
    -D INSTALL_PYTHON_EXAMPLES=ON \
    -D INSTALL_C_EXAMPLES=OFF \
    -D OPENCV_EXTRA_MODULES_PATH=~/opencv/opencv_contrib-3.1.0/modules \
    -D PYTHON_EXECUTABLE=~/.virtualenvs/cv/bin/python \
    -D ENABLE_PRECOMPILED_HEADERS=OFF \
    -D BUILD_EXAMPLES=ON ..</code></pre>
<p>完成之后应该会出现下面的内容
<img src="http://ww1.sinaimg.cn/large/005L13Yhgy1ficbknx4wuj30yc0domyo.jpg" alt=""></p>
<p>然后就是</p>






<pre tabindex="0"><code>$ make
//这里需要很长时间
$ sudo make install
$ sudo ldconfig</code></pre>
<h1 id="第六步-完成安装">第六步 完成安装</h1>
<p>查看是否存在包</p>






<pre tabindex="0"><code>$ ls -l /usr/local/lib/python3.5/site-packages/
total 1972
-rw-r--r-- 1 root staff 2016816 Sep 13 17:24 cv2.cpython-35m-x86_64-linux-gnu.so</code></pre>
<p>建立软链接</p>






<pre tabindex="0"><code>$ cd /usr/local/lib/python3.5/site-packages/
$ sudo mv cv2.cpython-35m-x86_64-linux-gnu.so cv2.so
$ cd ~/.virtualenvs/cv/lib/python3.5/site-packages/
$ ln -s /usr/local/lib/python3.5/site-packages/cv2.so cv2.so</code></pre>
<p>测试opencv</p>






<pre tabindex="0"><code>$ cd ~
$ workon cv
$ python
Python 3.5.2 (default, Jul  5 2016, 12:43:10) 
[GCC 5.4.0 20160609] on linux
Type &#34;help&#34;, &#34;copyright&#34;, &#34;credits&#34; or &#34;license&#34; for more information.
&gt;&gt;&gt; import cv2
&gt;&gt;&gt; cv2.__version__
&#39;3.1.0&#39;
&gt;&gt;&gt;</code></pre>
<h1 id="问题解决">问题解决</h1>
<h3 id="1-opencv-31下载-ippicv_linux_20151201失败">1. OpenCV 3.1下载 ippicv_linux_20151201失败</h3>
<p><a href="http://blog.csdn.net/huangkangying/article/details/53406370">http://blog.csdn.net/huangkangying/article/details/53406370</a></p>
<h3 id="待续">待续</h3>

  </content>
  
  
    <p>
      
        <a href="/tags/python-opencv/">#python-opencv</a>&nbsp;&nbsp;
      
        <a href="/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">#环境搭建</a>&nbsp;&nbsp;
      
    </p>
  

    </main>
    <footer>
      
  <span>© 2025 spiritshaman</span>


  <span>
    |
    Made with
    <a href="https://github.com/maolonglong/hugo-simple/">Hugo ʕ•ᴥ•ʔ Simple</a>
  </span>


    </footer>

    
</body>
</html>
