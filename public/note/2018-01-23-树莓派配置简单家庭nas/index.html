<!doctype html>
<html lang="zh-Hans">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="/images/favicon.png" />

<title>树莓派配置简单家庭nas&nbsp;|&nbsp;spiritshaman</title>
<meta
  name="title"
  content="树莓派配置简单家庭nas"
/>
<meta
  name="description"
  content="本文主要通过samba以及aria2实现将树莓派编程一个简单自带下载功能的家庭nas服务器
安装samba实现文件共享 一.准备硬盘 （此处针对ntfs格式的硬盘，其他硬盘格式或者可以格式化的请直接跳过） 树莓派默认挂载ntfs格式硬盘只有只读权限，所以需要安装一些工具实现读写功能
安装软件
1#更新 2sudo apt-get update 3sudo apt-get upgrade 4#安装所需软件包 5sudo apt-get install ntfs-3g 6 7#加载内核模块 8modprobe fuse 测试是否可用
1#创建要挂载的文件夹并修改权限 2sudo mkdir /samba 3sudo chmod 777 /samba 我们需要查看硬盘的设备目录 (虽然通常是/dev/sda1,但是以防万一)
1#查看硬盘设备号 2sudo fdisk -l 如图中圈出部分,与您的硬盘容量大小符合的就是了
1#挂载硬盘 2sudo mount -t ntfs-3g /dev/sda1 /samba 3cd /samba 4#如果能够成功读到内容,说明挂载成功,可以进行下一步 实现开机自动挂载到指定目录
1#编辑fstab让移动硬盘开机自动挂载 2sudo vim /etc/fstab 3#在最后一行添加如下内容 4/dev/sda1 /samba ntfs-3g defaults,noexec,umask=0000 0 0 5#保存重启，即可生效 二.安装和配置samba 1#安装 2sudo apt-get install samba samba-common-bin 3#配置 4sudo vim /etc/samba/smb."
/>
<meta
  name="keywords"
  content="nas,geek,树莓派,aria2,"
/>

  <meta name="author" content="SpiritShaman" />




<meta property="og:title" content="树莓派配置简单家庭nas" />
<meta property="og:description" content="本文主要通过samba以及aria2实现将树莓派编程一个简单自带下载功能的家庭nas服务器
安装samba实现文件共享 一.准备硬盘 （此处针对ntfs格式的硬盘，其他硬盘格式或者可以格式化的请直接跳过） 树莓派默认挂载ntfs格式硬盘只有只读权限，所以需要安装一些工具实现读写功能
安装软件
1#更新 2sudo apt-get update 3sudo apt-get upgrade 4#安装所需软件包 5sudo apt-get install ntfs-3g 6 7#加载内核模块 8modprobe fuse 测试是否可用
1#创建要挂载的文件夹并修改权限 2sudo mkdir /samba 3sudo chmod 777 /samba 我们需要查看硬盘的设备目录 (虽然通常是/dev/sda1,但是以防万一)
1#查看硬盘设备号 2sudo fdisk -l 如图中圈出部分,与您的硬盘容量大小符合的就是了
1#挂载硬盘 2sudo mount -t ntfs-3g /dev/sda1 /samba 3cd /samba 4#如果能够成功读到内容,说明挂载成功,可以进行下一步 实现开机自动挂载到指定目录
1#编辑fstab让移动硬盘开机自动挂载 2sudo vim /etc/fstab 3#在最后一行添加如下内容 4/dev/sda1 /samba ntfs-3g defaults,noexec,umask=0000 0 0 5#保存重启，即可生效 二.安装和配置samba 1#安装 2sudo apt-get install samba samba-common-bin 3#配置 4sudo vim /etc/samba/smb." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/note/2018-01-23-%E6%A0%91%E8%8E%93%E6%B4%BE%E9%85%8D%E7%BD%AE%E7%AE%80%E5%8D%95%E5%AE%B6%E5%BA%ADnas/" /><meta property="article:section" content="note" />

<meta property="og:site_name" content="spiritshaman" />





<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="树莓派配置简单家庭nas"/>
<meta name="twitter:description" content="本文主要通过samba以及aria2实现将树莓派编程一个简单自带下载功能的家庭nas服务器
安装samba实现文件共享 一.准备硬盘 （此处针对ntfs格式的硬盘，其他硬盘格式或者可以格式化的请直接跳过） 树莓派默认挂载ntfs格式硬盘只有只读权限，所以需要安装一些工具实现读写功能
安装软件
1#更新 2sudo apt-get update 3sudo apt-get upgrade 4#安装所需软件包 5sudo apt-get install ntfs-3g 6 7#加载内核模块 8modprobe fuse 测试是否可用
1#创建要挂载的文件夹并修改权限 2sudo mkdir /samba 3sudo chmod 777 /samba 我们需要查看硬盘的设备目录 (虽然通常是/dev/sda1,但是以防万一)
1#查看硬盘设备号 2sudo fdisk -l 如图中圈出部分,与您的硬盘容量大小符合的就是了
1#挂载硬盘 2sudo mount -t ntfs-3g /dev/sda1 /samba 3cd /samba 4#如果能够成功读到内容,说明挂载成功,可以进行下一步 实现开机自动挂载到指定目录
1#编辑fstab让移动硬盘开机自动挂载 2sudo vim /etc/fstab 3#在最后一行添加如下内容 4/dev/sda1 /samba ntfs-3g defaults,noexec,umask=0000 0 0 5#保存重启，即可生效 二.安装和配置samba 1#安装 2sudo apt-get install samba samba-common-bin 3#配置 4sudo vim /etc/samba/smb."/>




<meta itemprop="name" content="树莓派配置简单家庭nas">
<meta itemprop="description" content="本文主要通过samba以及aria2实现将树莓派编程一个简单自带下载功能的家庭nas服务器
安装samba实现文件共享 一.准备硬盘 （此处针对ntfs格式的硬盘，其他硬盘格式或者可以格式化的请直接跳过） 树莓派默认挂载ntfs格式硬盘只有只读权限，所以需要安装一些工具实现读写功能
安装软件
1#更新 2sudo apt-get update 3sudo apt-get upgrade 4#安装所需软件包 5sudo apt-get install ntfs-3g 6 7#加载内核模块 8modprobe fuse 测试是否可用
1#创建要挂载的文件夹并修改权限 2sudo mkdir /samba 3sudo chmod 777 /samba 我们需要查看硬盘的设备目录 (虽然通常是/dev/sda1,但是以防万一)
1#查看硬盘设备号 2sudo fdisk -l 如图中圈出部分,与您的硬盘容量大小符合的就是了
1#挂载硬盘 2sudo mount -t ntfs-3g /dev/sda1 /samba 3cd /samba 4#如果能够成功读到内容,说明挂载成功,可以进行下一步 实现开机自动挂载到指定目录
1#编辑fstab让移动硬盘开机自动挂载 2sudo vim /etc/fstab 3#在最后一行添加如下内容 4/dev/sda1 /samba ntfs-3g defaults,noexec,umask=0000 0 0 5#保存重启，即可生效 二.安装和配置samba 1#安装 2sudo apt-get install samba samba-common-bin 3#配置 4sudo vim /etc/samba/smb.">

<meta itemprop="wordCount" content="192">
<meta itemprop="keywords" content="nas,geek,树莓派,aria2," />
<meta name="referrer" content="no-referrer-when-downgrade" />

    
    
    
    <link href="/bundle.min.css" rel="stylesheet" />

    

    


    
</head>

  <body>
    <header>
      <nav>
  <a
    href="/"
    
    >Home</a
  >

  <a
    href=""
    
    >Blog</a
  >


  <a href="/index.xml">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 448 512">
      
      <path
        d="M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"
      />
    </svg>
    RSS
  </a>

</nav>

<h1>树莓派配置简单家庭nas</h1>


    </header>
    <main>
      
  
  
  <content>
    <p>本文主要通过samba以及aria2实现将树莓派编程一个简单自带下载功能的家庭nas服务器</p>
<h2 id="安装samba实现文件共享">安装samba实现文件共享</h2>
<h3 id="一准备硬盘">一.准备硬盘</h3>
<p>（此处针对ntfs格式的硬盘，其他硬盘格式或者可以格式化的请直接跳过）
<em>树莓派默认挂载ntfs格式硬盘只有只读权限，所以需要安装一些工具实现读写功能</em></p>
<ol>
<li>
<p>安装软件</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span><span style="color:#6c7086;font-style:italic">#更新</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span>sudo apt-get update
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">3</span><span>sudo apt-get upgrade
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">4</span><span><span style="color:#6c7086;font-style:italic">#安装所需软件包</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">5</span><span>sudo apt-get install ntfs-3g
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">6</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">7</span><span><span style="color:#6c7086;font-style:italic">#加载内核模块</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">8</span><span>modprobe fuse</span></span></code></pre></div>
</li>
<li>
<p>测试是否可用</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span><span style="color:#6c7086;font-style:italic">#创建要挂载的文件夹并修改权限</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span>sudo mkdir /samba
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">3</span><span>sudo chmod <span style="color:#fab387">777</span> /samba</span></span></code></pre></div>
<p>我们需要查看硬盘的设备目录
<em>(虽然通常是/dev/sda1,但是以防万一)</em></p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span><span style="color:#6c7086;font-style:italic">#查看硬盘设备号</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span>sudo fdisk -l</span></span></code></pre></div>
<p>如图中圈出部分,与您的硬盘容量大小符合的就是了</p>
<p><img src="http://ww1.sinaimg.cn/large/005L13Yhgy1fnqy6p1xz1j30fq04bglx.jpg" alt=""></p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span><span style="color:#6c7086;font-style:italic">#挂载硬盘</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span>sudo mount -t ntfs-3g /dev/sda1 /samba
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">3</span><span><span style="color:#89dceb">cd</span> /samba
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">4</span><span><span style="color:#6c7086;font-style:italic">#如果能够成功读到内容,说明挂载成功,可以进行下一步</span></span></span></code></pre></div>
</li>
<li>
<p>实现开机自动挂载到指定目录</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span><span style="color:#6c7086;font-style:italic">#编辑fstab让移动硬盘开机自动挂载</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span>sudo vim /etc/fstab
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">3</span><span><span style="color:#6c7086;font-style:italic">#在最后一行添加如下内容</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">4</span><span>/dev/sda1 /samba ntfs-3g defaults,noexec,umask<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#fab387">0000</span> <span style="color:#fab387">0</span> <span style="color:#fab387">0</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">5</span><span><span style="color:#6c7086;font-style:italic">#保存重启，即可生效</span></span></span></code></pre></div>
</li>
</ol>
<h3 id="二安装和配置samba">二.安装和配置samba</h3>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span><span style="color:#6c7086;font-style:italic">#安装</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span>sudo apt-get install samba samba-common-bin
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">3</span><span><span style="color:#6c7086;font-style:italic">#配置</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">4</span><span>sudo vim /etc/samba/smb.conf</span></span></code></pre></div>
<p>在最后面添加下面的内容</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>[share]                                   #共享文件的名称，将在网络上以此名称显示
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span>        path = /samba                     #共享文件的路径
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">3</span><span>        browseable = yes                  #允许浏览
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">4</span><span>        public = yes                      #共享开放
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">5</span><span>        writable = yes                    #可写
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">6</span><span>        guest ok=yes                      #允许访客</span></span></code></pre></div>
<p>保存后,重启samba</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>sudo /etc/init.d/samba restart</span></span></code></pre></div>
<p>添加共享用户</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>sudo smbpasswd –a pi
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span><span style="color:#6c7086;font-style:italic"># 我用的pi,这里输入两遍密码就可以了</span></span></span></code></pre></div>
<p>设置开机自启</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>sudo vim /etc/rc.local</span></span></code></pre></div>
<p>添加下面内容</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>sudo /etc/init.d/samba restart</span></span></code></pre></div>
<h3 id="三测试">三.测试</h3>
<p>打开我的电脑,右键下图中的网络,选映射网络驱动器</p>
<p><img src="http://ww1.sinaimg.cn/large/005L13Yhgy1fnqzuvzqy2j30r60ktta8.jpg" alt=""></p>
<p>然后</p>
<p><img src="http://ww1.sinaimg.cn/large/005L13Yhgy1fnqzvcwrmij30hg0dvgm1.jpg" alt=""></p>
<p>输入共享账号的账号密码即可~</p>
<h2 id="安装aria2实现自动下载">安装aria2实现自动下载</h2>
<h3 id="一安装aria2">一.安装aria2</h3>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>sudo apt-get install aria2</span></span></code></pre></div>
<h3 id="二配置">二.配置</h3>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span><span style="color:#89dceb">cd</span> ~
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">2</span><span><span style="color:#6c7086;font-style:italic"># 创建aria2目录</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">3</span><span>mkdir app <span style="color:#89dceb;font-weight:bold">&amp;&amp;</span> <span style="color:#89dceb">cd</span> app <span style="color:#89dceb;font-weight:bold">&amp;&amp;</span> mkdir aria2 <span style="color:#89dceb;font-weight:bold">&amp;&amp;</span> <span style="color:#89dceb">cd</span> aria2
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">4</span><span><span style="color:#6c7086;font-style:italic"># 创建缓存文件</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">5</span><span>touch aria2.session
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">6</span><span><span style="color:#6c7086;font-style:italic"># 创建修改配置文件</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">7</span><span>vim aria2.conf</span></span></code></pre></div>
<p>在aria2.conf中输入以下内容</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 1</span><span><span style="color:#f5e0dc">dir</span><span style="color:#89dceb;font-weight:bold">=</span>/home/pi/downloads
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 2</span><span><span style="color:#cba6f7">continue</span><span style="color:#89dceb;font-weight:bold">=</span><span style="color:#89dceb">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 3</span><span>min-split-size<span style="color:#89dceb;font-weight:bold">=</span>10M
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 4</span><span>input-file<span style="color:#89dceb;font-weight:bold">=</span>/home/pi/app/aria2/aria2.session
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 5</span><span>save-session<span style="color:#89dceb;font-weight:bold">=</span>/home/pi/app/aria2/aria2.session
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 6</span><span>enable-rpc<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#89dceb">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 7</span><span>rpc-allow-origin-all<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#89dceb">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 8</span><span>rpc-listen-all<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#89dceb">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c"> 9</span><span>listen-port<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#fab387">51413</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">10</span><span>enable-dht<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#89dceb">false</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">11</span><span>enable-peer-exchange<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#89dceb">false</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">12</span><span>peer-id-prefix<span style="color:#89dceb;font-weight:bold">=</span>-TR2770-
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">13</span><span>user-agent<span style="color:#89dceb;font-weight:bold">=</span>Transmission/2.77
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">14</span><span>seed-ratio<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#fab387">0</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">15</span><span>bt-seed-unverified<span style="color:#89dceb;font-weight:bold">=</span><span style="color:#89dceb">true</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">16</span><span>bt-save-metadata<span style="color:#89dceb;font-weight:bold">=</span>true</span></span></code></pre></div>
<p><em>此处向<a href="http://aria2c.com/usage.html">大佬</a>致以诚挚的感谢</em></p>
<h3 id="三启动">三.启动</h3>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>aria2c --conf-path<span style="color:#89dceb;font-weight:bold">=</span>/home/pi/app/aria2/aria2.conf</span></span></code></pre></div>
<p>如果没有提示任何错误信息，那就按ctrl+c停止上面的语句，转为后台运行：</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>aria2c --conf-path<span style="color:#89dceb;font-weight:bold">=</span>/home/pi/app/aria2/aria2.conf -D</span></span></code></pre></div>
<p>添加开机启动</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>sudo vim /etc/rc.local</span></span></code></pre></div>
<p>添加下面内容</p>






<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f849c">1</span><span>aria2c --conf-path=/etc/aria2/aria2.conf －D</span></span></code></pre></div>
<p>启动后可以通过<a href="http://webui-aria2.ghostry.cn/">这里</a>来管理,如下面图片所示</p>
<p><img src="http://ww1.sinaimg.cn/large/005L13Yhly1fnr0n54kirj31e90eo74x.jpg" alt=""></p>
<p><img src="http://ww1.sinaimg.cn/large/005L13Yhly1fnr0ngownoj305q050jra.jpg" alt=""></p>
<p><img src="http://ww1.sinaimg.cn/large/005L13Yhly1fnr0nlc3gbj30g405i0sr.jpg" alt=""></p>
<p>亦可下载yaaw的Chrome插件或者使用命令行的方式进行下载使用等等,敬请google~</p>
<p><strong>以上,祝好</strong></p>
<p><strong>感谢</strong></p>
<p><a href="http://shumeipai.nxez.com/2013/09/08/raspberry-pi-to-mount-the-removable-hard-disk.html">树莓派实验室-给树莓派挂载移动硬盘或U盘</a></p>
<p><a href="http://shumeipai.nxez.com/2014/07/01/raspberry-pi-do-download-machine-aria2.html">树莓派实验室-树莓派做下载机，Aria2！</a></p>
<p><a href="http://www.cnblogs.com/xiaowuyi/p/4051238.html">小五义-树莓派学习笔记（5）：成功实现NAS家庭服务器（流媒体播放、文件共享及下载机）</a></p>

  </content>
  
  
    <p>
      
        <a href="/tags/nas/">#nas</a>&nbsp;&nbsp;
      
        <a href="/tags/geek/">#geek</a>&nbsp;&nbsp;
      
        <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/">#树莓派</a>&nbsp;&nbsp;
      
        <a href="/tags/aria2/">#aria2</a>&nbsp;&nbsp;
      
    </p>
  

    </main>
    <footer>
      
  <span>© 2025 spiritshaman</span>


  <span>
    |
    Made with
    <a href="https://github.com/maolonglong/hugo-simple/">Hugo ʕ•ᴥ•ʔ Simple</a>
  </span>


    </footer>

    
</body>
</html>
