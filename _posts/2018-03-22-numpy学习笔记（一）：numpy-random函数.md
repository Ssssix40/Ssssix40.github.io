---
layout: article
title: Numpyå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰ï¼šnumpy randomå‡½æ•°
key: 201803221
tags:
  - python
  - numpy
  - learn note
lang: zh-Hans
---
æ„Ÿè°¢<a href="https://docs.scipy.org/doc/numpy-dev/reference/routines.random.html#random-generator" target="_blank">scipy.org</a>

åœ¨è¿‘æœŸçš„tensorflowå­¦ä¹ ä¸­ï¼Œæˆ‘å‘ç°ï¼Œnumpyä½œä¸ºpythonçš„æ•°å­¦è¿ç®—åº“ï¼Œå­¦ä¹ tensorflowè¿‡ç¨‹ä¸­ç»å¸¸éœ€è¦ç”¨åˆ°ï¼Œè€Œnumpyçš„randomå‡½æ•°åŠŸèƒ½å¾ˆå¤šï¼Œæ¯æ¬¡ç”¨çš„æ—¶å€™éƒ½éœ€è¦å¦è¡Œgoogleï¼Œæ‰€ä»¥æˆ‘å†³å®šå°†å®ƒçš„å¸¸ç”¨ç”¨æ³•æ±‡æ€»ä¸€ä¸‹ã€‚

## 0. first of all

{% highlight python %}
import numpy as numpy
{% endhighlight %}

æ—¢ç„¶æ˜¯è®²éšæœºæ•°ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œè®¡ç®—æœºä¸–ç•Œçš„éšæœºæ•°éƒ½æ˜¯ä¼ªéšæœºï¼Œéƒ½æœ‰ä¸€ä¸ªå«åšç§å­ï¼ˆseedï¼‰çš„ä¸œè¥¿

`numpy.random.seed(seed=None)`

å¯ä»¥é€šè¿‡è¾“å…¥intæˆ–arrat_likeæ¥ä½¿å¾—éšæœºçš„ç»“æœå›ºå®š

{% highlight python %}
>>> np.random.rand(3, 3)

array([[0.43267997, 0.72368429, 0.72366367],
       [0.28496145, 0.44920635, 0.8924199 ],
       [0.31974178, 0.55658518, 0.01755763]])

>>> np.random.rand(3, 3)

array([[0.75196574, 0.33708946, 0.64345504],
       [0.85048542, 0.18109553, 0.69524277],
       [0.06390142, 0.30589554, 0.51643863]])

>>> np.random.seed(5)
>>> np.random.rand(3, 3)

array([[0.22199317, 0.87073231, 0.20671916],
       [0.91861091, 0.48841119, 0.61174386],
       [0.76590786, 0.51841799, 0.2968005 ]])

>>> np.random.seed(5)
>>> np.random.rand(3, 3)

rray([[0.22199317, 0.87073231, 0.20671916],
       [0.91861091, 0.48841119, 0.61174386],
       [0.76590786, 0.51841799, 0.2968005 ]])

{% endhighlight %}

## 1. numpy.random.rand()

`numpy.random.rand(d0,d1...dn)`

- randå‡½æ•°æ ¹æ®ç»™å®šç»´åº¦ç”ŸæˆåŠå¼€åŒºé—´[0,1)ä¹‹é—´çš„æ•°æ®ï¼ŒåŒ…å«0ï¼Œä¸åŒ…å«1
- dnè¡¨ç¤ºæ¯ä¸ªç»´åº¦
- è¿”å›å€¼ä¸ºæŒ‡å®šçº¬åº¦çš„numpy.ndarray

{% highlight python %}
>>> np.random.rand(3, 3) # shape: 3*3

array([[0.94340617, 0.96183216, 0.88510322],
       [0.44543261, 0.74930098, 0.73372814],
       [0.29233667, 0.3940114 , 0.7167332 ]])

>>> np.random.rand(3, 3, 3) # shape: 3*3*3

array([[[0.64794467, 0.17450186, 0.01016758],
        [0.36435826, 0.37682548, 0.19501414],
        [0.26438152, 0.28520726, 0.01617747]],

       [[0.43803165, 0.4096238 , 0.77309074],
        [0.42280405, 0.02623488, 0.82081416],
        [0.7611891 , 0.84823656, 0.64481959]],

       [[0.24420439, 0.62015463, 0.13258205],
        [0.87108689, 0.14997182, 0.43524276],
        [0.58190788, 0.32348629, 0.12158832]]])
{% endhighlight %}

## 2. np.random.randn()

`numpy.random.randn(d0,d1,â€¦,dn)`

- randnå‡½æ•°è¿”å›ä¸€ä¸ªæˆ–ä¸€ç»„æ ·æœ¬ï¼Œå…·æœ‰<a href="https://baike.baidu.com/item/æ ‡å‡†æ­£æ€åˆ†å¸ƒ/552653?fr=aladdin" target="_blank">æ ‡å‡†æ­£æ€åˆ†å¸ƒ</a>ã€‚
- dnè¡¨ç¤ºæ¯ä¸ªç»´åº¦
- è¿”å›å€¼ä¸ºæŒ‡å®šç»´åº¦çš„numpy.ndarray

{% highlight python %}
>>> np.random.randn() # å½“æ²¡æœ‰è¾“å…¥å‚æ•°æ—¶ï¼Œä»…è¿”å›ä¸€ä¸ªå€¼

-0.7377941002942127

>>> np.random.randn(3, 3)

array([[-0.20565666,  1.23580939, -0.27814622],
       [ 0.53923344, -2.7092927 ,  1.27514363],
       [ 0.38570597, -1.90564739, -0.10438987]])

>>> np.random.randn(3, 3, 3)

array([[[ 0.64235451, -1.64327647, -1.27366899],
        [ 0.69706885,  0.75246699,  2.16235763],
        [ 1.01141338, -0.19188666,  0.07684428]],

       [[ 1.34367043, -0.76837057,  0.27803575],
        [ 0.97007349,  0.41297538, -1.65008923],
        [-3.78282033,  0.67567421, -0.0753552 ]],

       [[-0.86540385,  0.14603592,  0.29318291],
        [-0.8167798 , -0.25492782, -0.58758   ],
        [ 0.02612474,  0.17882535, -0.95483945]]])

{% endhighlight %}

## 3. numpy.random.randint()

`numpy.random.randint(low, high=None, size=None, dtype=â€™lâ€™)`

- ä»åŒºé—´[low,highï¼‰è¿”å›éšæœºæ•´å½¢
- å‚æ•°ï¼šlowä¸ºæœ€å°å€¼ï¼Œhighä¸ºæœ€å¤§å€¼ï¼Œsizeä¸ºæ•°ç»„ç»´åº¦å¤§å°ï¼Œdtypeä¸ºæ•°æ®ç±»å‹ï¼Œé»˜è®¤çš„æ•°æ®ç±»å‹æ˜¯np.int
- highæ²¡æœ‰å¡«å†™æ—¶ï¼Œé»˜è®¤ç”Ÿæˆéšæœºæ•°çš„èŒƒå›´æ˜¯[0ï¼Œlow)

{% highlight python %}
>>> np.random.randint(1, size = 10) # è¿”å›[0, 1)ä¹‹é—´çš„æ•´æ•°ï¼Œæ‰€ä»¥åªæœ‰0

array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])

>>> np.random.randint(1, 5) # è¿”å›[1, 5)ä¹‹é—´éšæœºçš„ä¸€ä¸ªæ•°å­—

2

>>> np.random.randint(-3, 3, size=(3, 3))

array([[-1, -2, -2],
       [-3, -1, -2],
       [ 2,  2,  2]])

{% endhighlight %}

## 4. numpy.random.random_sample()

`numpy.random.random_sample(size=None)`

- ä»[0.0, 1.0)çš„åŠå¼€åŒºé—´è¿”å›æµ®ç‚¹æ•°

{% highlight python %}
>>> np.random.random_sample()

0.47108547995356098

>>> np.random.random_sample((5,))

array([ 0.30220482,  0.86820401,  0.1654503 ,  0.11659149,  0.54323428])

>>> 5 * np.random.random_sample((3, 2)) - 5

array([[-3.99149989, -0.52338984],
       [-2.99091858, -0.79479508],
       [-1.23204345, -1.75224494]])
{% endhighlight %}

ç±»ä¼¼åŠŸèƒ½çš„è¿˜æœ‰ï¼š
`numpy.random.random(size=None)`
`numpy.random.ranf(size=None)`
`numpy.random.sample(size=None)`

## 5. numpy.random.choice() âœ¡ï¸

`numpy.random.choice(a, size=None, replace=True, p=None)`

- ä»ç»™å®šçš„ä¸€ä½æ•°ç»„ä¸­ç”Ÿæˆä¸€ä¸ªéšæœºæ ·æœ¬
- aè¦æ±‚è¾“å…¥ä¸€ç»´æ•°ç»„ç±»ä¼¼æ•°æ®æˆ–è€…æ˜¯ä¸€ä¸ªintï¼›sizeæ˜¯ç”Ÿæˆçš„æ•°ç»„çº¬åº¦ï¼Œè¦æ±‚æ•°å­—æˆ–å…ƒç»„ï¼›replaceä¸ºå¸ƒå°”å‹ï¼Œå†³å®šæ ·æœ¬æ˜¯å¦æœ‰æ›¿æ¢ï¼›pä¸ºæ ·æœ¬å‡ºç°æ¦‚ç‡

{% highlight python %}
>>> np.random.choice(5, 3) # è¿™ä¸ªç­‰åŒäºnp.random.randint(0,5,3)

array([0, 3, 4])

>>> np.random.choice(5, 3, p=[0.1, 0, 0.3, 0.6, 0])

array([3, 3, 0])

>>> np.random.choice(5, 3, replace=False)

array([3,1,0])

>>> np.random.choice(5, 3, replace=False, p=[0.1, 0, 0.3, 0.6, 0])

array([2, 3, 0])

>>> aa_milne_arr = ['pooh', 'rabbit', 'piglet', 'Christopher']
>>> np.random.choice(aa_milne_arr, 5, p=[0.5, 0.1, 0.1, 0.3])

array(['pooh', 'pooh', 'pooh', 'Christopher', 'piglet'],
      dtype='|S11')
{% endhighlight %}

**æ„Ÿè°¢æ‚¨çš„é˜…è¯»**ğŸ™